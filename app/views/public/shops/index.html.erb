<div class="container-fluid">
  <div class="form-box">
  <h3 class="page-title">業者一覧</h3>
    <div class="row">
      <div class="search-box col-md-3">
        <%= form_with url: shops_search_path, method: :get, local: true do |f| %>
          <%= f.text_field :keyward %>
          <%= f.submit "検索", class: "btn"%>
        <% end %>
        <div class="genre-search">
          <p>ジャンルから探す</p>
          <%= link_to "全て", shops_path, class: "link genre-search-link" %><br>
          <% @genres.each do |genre| %>
          <%= link_to genre, shops_path(shop_genre: genre), class: "link genre-search-link" %>
          <br>
          <% end %>
        </div>
         <div class="ranking">
            <p>登録者数ランキング</p>
            <% ranking = 1 %>
            <% @rank_shops.each do |rank_shop| %>
              <%= link_to "第#{ranking}位#{rank_shop.shop_name}", shop_path(rank_shop.id) %><br>
              <% ranking += 1 %>
            <% end %>
         </div>
      </div>
      <div class="col-lg-9 row">
        <% @shops.each do |shop| %>
          <div class="shop-contents col-md-4 col-sm-6">
            <%= link_to shop_path(shop.id), class: "row" do %>
              <div class="col-6">
                <%= attachment_image_tag shop, :shop_image, fallback:"no_image.jpeg", class:"shop-index-image" %>
              </div>
              <div class="shop-info col-6 text-center">
                <p><%= shop.shop_name %></p>
                <%= shop.shop_genre %>
                <p>会社概要</p>
                <%= shop.introduction %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<script>
  $(".shop-contents").hover(function () {
    console.log("test");
    $(this).find(".shop-info").css({
      color: "white"
    });
    $(this).css({
      "background-color": "rgb(235,97,1)"
    });
  },function () {
    $(this).find(".shop-info").css({
      color: ""
    });
    $(this).css({
      "background-color": ""
    });
  });
</script>